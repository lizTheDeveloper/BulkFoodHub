2025-10-28 07:06:55,933 - app.api.v1.auth.auth - ERROR - {"event": "User registration failed: Could not determine join condition between parent/child tables on relationship User.supplier_profile - there are multiple foreign key paths linking the tables.  Specify the 'foreign_keys' argument, providing a list of those columns which should be counted as containing a foreign key reference to the parent table.", "logger": "app.api.v1.auth.auth", "level": "error", "timestamp": "2025-10-28T14:06:55.933632Z"}
2025-10-28 07:07:07,510 - app.api.v1.auth.auth - ERROR - {"event": "User registration failed: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[User(users)]'. Original exception was: Could not determine join condition between parent/child tables on relationship User.supplier_profile - there are multiple foreign key paths linking the tables.  Specify the 'foreign_keys' argument, providing a list of those columns which should be counted as containing a foreign key reference to the parent table.", "logger": "app.api.v1.auth.auth", "level": "error", "timestamp": "2025-10-28T14:07:07.510893Z"}
2025-10-28 07:09:14,101 - main - ERROR - {"event": "Unhandled exception: 'HTTPBearer' object has no attribute 'credentials'", "logger": "main", "level": "error", "timestamp": "2025-10-28T14:09:14.095455Z", "exception": "Traceback (most recent call last):\n  File \"/Users/annhoward/cursor_livecode_10_28_25_1/venv/lib/python3.11/site-packages/anyio/streams/memory.py\", line 98, in receive\n    return self.receive_nowait()\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/annhoward/cursor_livecode_10_28_25_1/venv/lib/python3.11/site-packages/anyio/streams/memory.py\", line 93, in receive_nowait\n    raise WouldBlock\nanyio.WouldBlock\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/annhoward/cursor_livecode_10_28_25_1/venv/lib/python3.11/site-packages/starlette/middleware/base.py\", line 78, in call_next\n    message = await recv_stream.receive()\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/annhoward/cursor_livecode_10_28_25_1/venv/lib/python3.11/site-packages/anyio/streams/memory.py\", line 118, in receive\n    raise EndOfStream\nanyio.EndOfStream\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/annhoward/cursor_livecode_10_28_25_1/venv/lib/python3.11/site-packages/starlette/middleware/errors.py\", line 162, in __call__\n    await self.app(scope, receive, _send)\n  File \"/Users/annhoward/cursor_livecode_10_28_25_1/venv/lib/python3.11/site-packages/starlette/middleware/base.py\", line 108, in __call__\n    response = await self.dispatch_func(request, call_next)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/annhoward/cursor_livecode_10_28_25_1/backend/main.py\", line 71, in add_process_time_header\n    response = await call_next(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/annhoward/cursor_livecode_10_28_25_1/venv/lib/python3.11/site-packages/starlette/middleware/base.py\", line 84, in call_next\n    raise app_exc\n  File \"/Users/annhoward/cursor_livecode_10_28_25_1/venv/lib/python3.11/site-packages/starlette/middleware/base.py\", line 70, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n  File \"/Users/annhoward/cursor_livecode_10_28_25_1/venv/lib/python3.11/site-packages/starlette/middleware/cors.py\", line 83, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/annhoward/cursor_livecode_10_28_25_1/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 79, in __call__\n    raise exc\n  File \"/Users/annhoward/cursor_livecode_10_28_25_1/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 68, in __call__\n    await self.app(scope, receive, sender)\n  File \"/Users/annhoward/cursor_livecode_10_28_25_1/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 20, in __call__\n    raise e\n  File \"/Users/annhoward/cursor_livecode_10_28_25_1/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py\", line 17, in __call__\n    await self.app(scope, receive, send)\n  File \"/Users/annhoward/cursor_livecode_10_28_25_1/venv/lib/python3.11/site-packages/starlette/routing.py\", line 718, in __call__\n    await route.handle(scope, receive, send)\n  File \"/Users/annhoward/cursor_livecode_10_28_25_1/venv/lib/python3.11/site-packages/starlette/routing.py\", line 276, in handle\n    await self.app(scope, receive, send)\n  File \"/Users/annhoward/cursor_livecode_10_28_25_1/venv/lib/python3.11/site-packages/starlette/routing.py\", line 66, in app\n    response = await func(request)\n               ^^^^^^^^^^^^^^^^^^^\n  File \"/Users/annhoward/cursor_livecode_10_28_25_1/venv/lib/python3.11/site-packages/fastapi/routing.py\", line 264, in app\n    solved_result = await solve_dependencies(\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/annhoward/cursor_livecode_10_28_25_1/venv/lib/python3.11/site-packages/fastapi/dependencies/utils.py\", line 594, in solve_dependencies\n    solved = await run_in_threadpool(call, **sub_values)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/annhoward/cursor_livecode_10_28_25_1/venv/lib/python3.11/site-packages/starlette/concurrency.py\", line 41, in run_in_threadpool\n    return await anyio.to_thread.run_sync(func, *args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/annhoward/cursor_livecode_10_28_25_1/venv/lib/python3.11/site-packages/anyio/to_thread.py\", line 33, in run_sync\n    return await get_asynclib().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/annhoward/cursor_livecode_10_28_25_1/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 877, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"/Users/annhoward/cursor_livecode_10_28_25_1/venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 807, in run\n    result = context.run(func, *args)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/annhoward/cursor_livecode_10_28_25_1/backend/app/core/middleware.py\", line 124, in get_current_user_dependency\n    token = credentials.credentials\n            ^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'HTTPBearer' object has no attribute 'credentials'"}
